<!--
Copyright 2021 Carnegie Mellon University. All Rights Reserved. 
 Released under a MIT (SEI)-style license. See LICENSE.md in the project root for license information.
-->

<div>
  <div class="header">
    <h1>Partitions</h1>
    <button
      *ngIf="canEdit"
      mat-icon-button
      color="primary"
      matTooltip="Create a Partition"
      (click)="createPartition()"
    >
      <mat-icon class="mdi-24px" fontIcon="mdi-plus-circle"> </mat-icon>
    </button>
  </div>
  <div class="content">
    <mat-accordion class="accordion" multi>
      <cas-partition [poolId]="poolId" [canEdit]="canEdit"></cas-partition>

      <div *ngFor="let partition of partitions$ | async; trackById">
        <cas-partition
          [partition]="partition"
          [canEdit]="canEdit"
        ></cas-partition>
      </div>
    </mat-accordion>
  </div>
</div>
