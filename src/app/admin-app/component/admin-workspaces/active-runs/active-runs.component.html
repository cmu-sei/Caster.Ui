<!--
Copyright 2021 Carnegie Mellon University. All Rights Reserved.
Released under a MIT (SEI)-style license. See LICENSE.md in the project root for license information.
-->

<div>
  <h1>Active Runs</h1>
  <cwd-table
    [items]="runs"
    [displayedColumns]="[
      'createdAt',
      'isDestroy',
      'status',
      'workspaceId',
      'actions'
    ]"
    [trackByPropertyName]="'id'"
    [expandedItems]="expandedRuns"
    (expand)="expand($event)"
  >
    <div *cwdTableItemContent="let item">
      <ng-container *ngIf="expandedRuns.includes(item.id)">
        <cas-run
          [run]="item"
          (planOutput)="planOutput($event, item)"
          (applyOutput)="applyOutput($event, item)"
        >
        </cas-run>
      </ng-container>
    </div>
  </cwd-table>
</div>
